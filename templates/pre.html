{% extends 'base.html' %}
{% block title %}Prediction{% endblock title %}
{% block current_pre %}
    active{% endblock current_pre %}
{% block body %}
    <div class="container my-5">
        <form class="row g-3" method="post">
            {% csrf_token %}

            <div class="input-group mb-3 col-md-4">
                <select class="form-select" id="inputGroupSelect02" name="symbol_name" required>
                    <option selected>Choose...</option>
                    <option value="ADANIPORTS">Adani Ports and Special Economic Zone Ltd.</option>
                    <option value="ASIANPAINT">Asian Paints Ltd.</option>
                    <option value="AXISBANK">Axis Bank Ltd.</option>
                    <option value="SBIN">SBIN</option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <input type="text" class="form-control" id="dura" name="dura" placeholder="Enter Duration ( in Entries )" required>
            </div>
            <div class="col-auto col-md-2">
                <button type="submit" class="btn btn-primary mb-3">Show</button>
            </div>
        </form>
    </div>

    <div class="container {{ visible }}"">
        <h2 class="text-center"><u>Latest <b style="color: crimson">{{ duration }}</b> data from <b style="color: darkred">{{ sym_name }}</b></u></h2><br>
        <table class="table table-dark table-striped">
            <thead>
            <tr>
                <th>Date</th>
                <th>Symbol</th>
                <th>Series</th>
                <th>Open</th>
                <th>Close</th>
                <th>Volume</th>
            </tr>
            </thead>
            <tbody>
            <!-- jinja2 Technique -->
            {% if d %}
                {% for i in d %}
                    <tr>
                        <td>{{ i.Date }}</td>
                        <td>{{ i.Symbol }}</td>
                        <td>{{ i.Series }}</td>
                        <td>{{ i.Open }}</td>
                        <td>{{ i.Close }}</td>
                        <td>{{ i.Volume }}</td>
                    </tr>
                {% endfor %}
            {% endif %}
            </tbody>
        </table>
    </div>

{% endblock body %}

